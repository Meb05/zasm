/*==============================================================================

          		15.11.2018 - Script development started

                   	Script by www.cpacodex.com

================================================================================

................................................................................

                 ** Custom Landing Page - Universal **

===============================[ Variables ]===================================*/

var usersOnline  	 = 														500;

//===========================[ Global Script ]===================================

//------------------------------[ Document ]-------------------------------------

$( document ).ready( function( ) {

  //---------------------------[ Mobile Check ]----------------------------------

	if ( typeof window.orientation !== 'undefined' ) {

		// Mobile

	} else {

		// Desktop

	  	swal({
	  	  closeOnClickOutside: false,
	  	  button: false,
		  icon: 'error',
		  title: 'Error...',
		  text: "This website is only for Mobile!\n Visit it via a mobile device\n Examples: Tablet, Phone, etc."
		})

		$( '.container' ).hide();

	}

  //---------------------------[ Extend jQuery ]---------------------------------

  $.fn.extend({

    animateCss: function( animationName, callback ) {

      var animationEnd = ( function( el ) {

        var animations = {

          animation: 'animationend',
          OAnimation: 'oAnimationEnd',
          MozAnimation: 'mozAnimationEnd',
          WebkitAnimation: 'webkitAnimationEnd',

        };

        for( var t in animations ) {

          if ( el.style[ t ] !== undefined ) {

            return animations[ t ];

          }

        }

      } )( document.createElement( 'div' ) );

      this.addClass( 'animated ' + animationName ).one( animationEnd, function() {

        $( this ).removeClass( 'animated ' + animationName );

        if ( typeof callback === 'function' ) callback();

      });

      return this;

    },

  });

	//---------------------------[ Sound Effect ]--------------------------------

	  ion.sound({
	  sounds: [

	    {

	      name: "click",
	      path: "audio/",
	      volume: 0.5

	    },
	    {

	      name: "connect",
	      path: "audio/",
	      volume: 0.8

	    },
	    {

	      name: "transition",
	      path: "audio/",
	      volume: 0.8

	    }

	  ],

	    path: "audio/",
	    preload: true,
	    multiplay: true

	  });

	  $( '.soundclick' ).click( function () {

	    ion.sound.play( 'click' );

	  });


  //----------------------------[ Progress Bar ]------------------------------------

    function progressBar() {

        var width            = 1;
        var intervalProgress = setInterval( frame, 0200 );

        function frame() {

            if ( width >= 100 ) {

                clearInterval( intervalProgress );

                setTimeout( function() {

				    $( '.generatorPage' ).animateCss( 'fadeOutRight', function() {

				        $( '.generatorPage' ).hide();

				        $( '.playerPage' ).show();
				        $( '.playerPage' ).animateCss( 'fadeInLeft' );

				    });

                }, 2000 );

            } else {

                width++;
                $( '.generator-bar' ).css( 'width', width + '%' );
                $( '.generator-bar' ).html( width * 1 + '%' );

            }

        }

    }

  //-------------------------------[ Packs Select ]---------------------------------

	$( '.packs' ).click( function() {

		$( '.packs' ).removeClass( 'package-active' );
	    $( this ).addClass( 'package-active' );

	});

  //----------------------------[ Platform Select ]--------------------------------

	$( '.platforms li' ).click( function() {

		$( '.platforms li' ).removeClass( 'platform-active' );
	    $( this ).addClass( 'platform-active' );

	});

  //----------------------------[ Points Package ]---------------------------------

	$( '.btnVerify' ).click( function() {

	    window.location.href = "https://www.verifyspot.net/cl.php?id=d7463e5120b195cd63c2628bd392876f";

	});

  //---------------------------[ Button Generate ]--------------------------------

  $( '.btnGenerate').click( function() {

  	$( '.question-layout' ).animateCss( 'fadeOutRight', function() {

	    $( '.question-layout' ).hide();
	    $( '.resources-layout' ).fadeIn();

	});

  });

  //---------------------------[ Button Platform ]--------------------------------

  $( '.btnPlatform').click( function() {

  	if( !$( '.platform-active' ).length ) {

	  	swal({
	  	  closeOnClickOutside: false,
		  icon: 'error',
		  title: 'Select Platform',
		  text: "You need to select your platform iOS or Android"
		})

  	} else {

	  	$( '.home-page-background' ).addClass( 'hidden' );

	  	$( '.platform-layout' ).animateCss( 'fadeOutRight', function() {

		    $( '.platform-layout' ).hide();
		    $( '.loading-layout' ).fadeIn();

		});

		setTimeout( function() {

			$( '.loading-layout' ).fadeOut( function() {

				$( '.question-layout' ).fadeIn();

			} );

		}, 3000 );

	}

  });

  //--------------------------[ Button Game Check ]-------------------------------

  $( '.btnGame').click( function() {

  	swal({
  	  closeOnClickOutside: false,
  	  button: 'Refresh',
	  icon: 'img/icon.png',
	  title: 'Error...',
	  text: "You don't have Game installed\nplease do it and refresh page!"
	}).then( function() {

		window.location.href = "";

	});

  });

  //-----------------------------[ Packs Click ]----------------------------------

  $( '.packs-generator' ).click( function() {

  	if( !$( '.package-active' ).length ) {

	  	swal({
	  	  closeOnClickOutside: false,
		  icon: 'error',
		  title: 'Select Resources',
		  text: "Please select an amount of Tcash to generate."
		})

  	} else {

	  	$( '.resources-layout' ).animateCss( 'fadeOutRight', function() {

	  		progressBar();

		    $( '.resources-layout' ).hide();
		    $( '.generator-layout' ).fadeIn();


		    setTimeout( function() {

		    	$( '.generator-layout p' ).html( 'Finding Game APP #ID<span class="blink">...</span>' );

			    setTimeout( function() {

			    	$( '.generator-layout p' ).html( 'Game App Found! Fetching<span class="blink">...</span>' );

				    setTimeout( function() {

				    	$( '.generator-layout p' ).html( 'Exporting Player Database<span class="blink">...</span>' );

					    setTimeout( function() {

					    	$( '.generator-layout p' ).html( 'Adding Resources<span class="blink">...</span>' );

						    setTimeout( function() {

						    	 $( '.generator-layout' ).fadeOut( function() {

						    	 	$( '.verification-layout' ).fadeIn();

						    	 });

						    }, 3000 );

					    }, 3000 );

				    }, 3000 );

			    }, 3000 );

		    }, 3000 );

		});

  	}

  });

 });
